<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:tb="http://www.hardcodet.net/taskbar"
                    xmlns:local="clr-namespace:HideTB"
                    xmlns:properties="clr-namespace:HideTB.Properties">

    <ContextMenu x:Shared="false" x:Key="SysTrayMenu" MinWidth="200">
        <MenuItem Header="{x:Static properties:Resources.Tray_EnableAutoHide}" IsCheckable="True" IsChecked="{Binding Path=(properties:Settings.Default).Enabled}" Command="{Binding SaveSettingsCommand}" />
        <Separator />
        <MenuItem Header="{x:Static properties:Resources.Tray_Settings}" IsHitTestVisible="False" Focusable="False" FontWeight="Bold" Opacity="0.6" />
        <StackPanel ToolTip="{x:Static properties:Resources.Tray_TickTooltip}">
            <Label Content="{x:Static properties:Resources.Tray_TickLabel}" />
            <Slider Maximum="100" Minimum="10" IsSnapToTickEnabled="True" TickFrequency="5" Value="{Binding Path=(properties:Settings.Default).Tick}" AutoToolTipPlacement="BottomRight" />
        </StackPanel>
        <StackPanel ToolTip="{x:Static properties:Resources.Tray_DelayTooltip}">
            <Label Content="{x:Static properties:Resources.Tray_DelayLabel}" />
            <Slider Maximum="2000" Minimum="0" IsSnapToTickEnabled="True" TickFrequency="100" Value="{Binding Path=(properties:Settings.Default).Delay}" AutoToolTipPlacement="BottomRight" />
        </StackPanel>
        <MenuItem Header="{x:Static properties:Resources.Tray_Startup}"
                  ToolTip="{x:Static properties:Resources.Tray_StartupTooltip}"
                  IsCheckable="True" IsChecked="{Binding Path=(properties:Settings.Default).Startup}"
                  Command="{Binding ToggleStartupCommand}" />
        <Separator />
        <MenuItem Header="{Binding ApplicationTitle}" Command="{Binding ShowGithubCommand}" />
        <MenuItem Header="{x:Static properties:Resources.Tray_Exit}" Command="{Binding ExitApplicationCommand}" />
    </ContextMenu>

    <tb:TaskbarIcon x:Key="NotifyIcon"
                    IconSource="pack://application:,,,/HideTB;component/HideTB.ico"
                    ToolTipText="HideTB"
                    ContextMenu="{StaticResource SysTrayMenu}">

        <tb:TaskbarIcon.DataContext>
            <local:NotifyIconViewModel />
        </tb:TaskbarIcon.DataContext>
    </tb:TaskbarIcon>

</ResourceDictionary>